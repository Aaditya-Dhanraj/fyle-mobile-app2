<div class="audit-history">
  <div class="audit-history--container">
    <div *ngFor="let estatus of estatuses" class="audit-history--block">
      <div>
        <mat-icon class="audit-history--circle" svgIcon="circle" *ngIf="!estatus.us_full_name"></mat-icon>
        <span class="text-capitalize audit-history--category">{{ estatus.st.category }}</span>
        <div class="audit-history--timestamp">
          <span>{{ estatus.st_created_at | date:'MMM d, yyyy h:mm a'}}</span>
        </div>
      </div>

      <div id={{estatus.st_id}} class="audit-history--comment-block">
        <span *ngIf="estatus.st.category !== 'Expense Issues'" class="comment-text">{{ estatus.st_comment }}</span>
        <div class="audit-history--details" *ngIf="hasDetails(estatus)">
          <span *ngIf="estatus.st.category !== 'Expense Issues' && estatus.st.category !== 'Failed to run policies' && estatus.st.category !== 'Card Transaction Matched'">Details: </span>
          <span *ngIf="estatus.st.category === 'Card Transaction Matched'">Card Transaction Details: </span>
          <div *ngFor="let item of estatus.st_diff | keyvalue" class="audit-history--diff">
            <app-statuses-diff [key]="item.key" [value]="item.value"></app-statuses-diff>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
