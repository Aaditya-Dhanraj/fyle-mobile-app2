<ion-content>
  <ion-grid class="sign-in--header-container">
    <ion-row class="sign-in--header ion-align-items-center">
      <ion-col class="sign-in--header-logo-container">
        <img class="sign-in--header-logo" src="../../../assets/svg/logo-white.svg" alt="fyle-logo">
      </ion-col>
    </ion-row>
  </ion-grid>
  <div class="sign-in--form">
    <div class="sign-in--form-header">
      Sign In
    </div>
    <div class="sign-in--form-subheader">
      Enter your details below
    </div>
    <form [formGroup]="fg">
      <mat-form-field class="sign-in--form-field" appearance="outline" *ngIf="!emailExists || emailEdit">
        <input formControlName="email" type="email" matInput placeholder="Work Email">
      </mat-form-field>
      <div *ngIf="emailExists && !emailEdit">
        <ion-grid>
          <ion-row>
            <ion-col>
              {{fg.controls.email.value}}
            </ion-col>
            <ion-col class="sign-in--edit-email">
              <a (click)="emailEdit = true">
                Change
              </a>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>
      <mat-form-field class="sign-in--form-field" appearance="outline" *ngIf="emailExists">
        <input formControlName="password" [type]="hide ? 'text': 'password'" matInput placeholder="Password">
        <mat-icon class="sign-in--password-visibility-icon" color="accent" matSuffix (click)="hide = !hide">
          {{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
      </mat-form-field>
      <div class="sign-in--primary-cta">
        <button *ngIf="!emailExists" mat-flat-button color="primary" (click)="checkIfEmailExists()">
          CONTINUE
        </button>
      </div>
      <div class="sign-in--primary-cta">
        <button *ngIf="emailExists" mat-flat-button color="primary" (click)="signInUser()">SIGN IN</button>
      </div>
      <div class="sign-in--secondary-cta">
        <button mat-flat-button color="accent" (click)="googleSignIn()">SIGN IN WITH GOOGLE</button>
      </div>
    </form>
    <div class="sign-in--redirect">
      Don't have an account?
      <a [routerLink]="['/', 'auth', 'sign-up']">Sign Up</a>
    </div>
  </div>
</ion-content>