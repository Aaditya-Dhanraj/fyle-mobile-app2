<ion-header>
  <ion-toolbar class="add-edit-expense--toolbar">
    <ion-title mode="md" *ngIf="mode">
      <div *ngIf="mode === 'add'">
        Add Expense
      </div>
      <div *ngIf="mode === 'edit'">
        {{title}} Expense
      </div>
    </ion-title>
  </ion-toolbar>
  <!-- <ion-toolbar *ngIf="reviewList.length > 0">
    <ion-title>
      <div>
        {{ activeIndex + 1 }} of {{ reviewList.length }} expense{{reviewList.length > 1 ? 's' : ''}}
      </div>
    </ion-title>
    <ion-buttons slot="md">
      <ion-button mode="md">
        <mat-icon>close</mat-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar> -->
  <!-- <ion-toolbar *ngIf="reviewList.length > 1 && showNavigationPanel">
    <div>
      <div>
        <button [disabled]="activeIndex === 0" (click)="goToPreviousExpense()">
          <mat-icon>
            chevron-left
          </mat-icon>
        </button>
      </div>
      <div>
        <button [disabled]="activeIndex === reviewList.length - 1" (click)="goToNextExpense()">
          <i></i>
          <mat-icon>
            chevron-right
          </mat-icon>
        </button>
      </div>
    </div>
  </ion-toolbar> -->
</ion-header>

<ion-content>
  <form [formGroup]="fg" class="add-edit-expense--form">
    <!-- <div (click)="showDuplicates()" *ngIf="duplicates && duplicates.length > 0 && scrollToDuplicates">
      <div>
        Possible Duplicates Detected !
      </div>
      <div>
        <mat-icon>
          chevron-down
        </mat-icon>
      </div>
    </div> -->

    <div>
      <!-- <div *ngIf="instaFyleCancelled">
        Instafyle is taking longer than expected due to a bad network, please add the details manually
      </div> -->

      <!-- <div (click)="scrollTo('comments')" *ngIf="etxn.tx.policy_flag && comments">
        TODO - add comments support
        <enterprise-fy-policy-violation-info estatuses="comments"></enterprise-fy-policy-violation-info>
      </div> -->

      <!-- <div *ngIf="isAmountCapped">
        <div *ngIf="isCriticalPolicyViolated">
          This expense has violated a critical policy. You cannot create a report with this expense.</div>
        <div *ngIf="!isCriticalPolicyViolated">Claimed amount <div>{{etxn.tx.user_amount}}</div> was capped to <div>
            {{etxn.tx.amount}}</div>
          due to policy <div *ngIf="isAmountDisabled">and cannot be edited.</div>
        </div>
      </div> -->

      <div class="add-edit-expense--receipt-currency">
        <!-- <div *ngIf="reviewList.length > 0 && showAttachmentPreview">
          Preview Attachment Component
          <preview-attachments txn-id="{{ etxn.tx.id }}"></preview-attachments>
        </div> -->
        <!-- <div *ngIf="!reviewList.length > 0 || !showAttachmentPreview">
          <div *ngIf="attachmentUploadInProgress">
            <ion-spinner icon="circles"></ion-spinner>
            <div>
              Uploading
            </div>
          </div>

          <div (click)="addAttachments($event)" *ngIf="(etxn.tx.num_files === 0 && !attachmentUploadInProgress)">
            <div>
              Add Receipt
            </div>
            <mat-icon>
              plus
            </mat-icon>
          </div>

          <div (click)="viewAttachments($event)" *ngIf="etxn.tx.num_files > 0 && !attachmentUploadInProgress">
            <mat-icon>
              attachment
            </mat-icon>
            <div>
              {{etxn.tx.num_files}}
            </div>
            <mat-icon (click)="addAttachments($event)">
              add-attachment
            </mat-icon>
          </div>
        </div> -->
        <div class="add-edit-expense--receipt">
          Add Receipt
        </div>

        <div class="add-edit-expense--currency" *ngIf="etxn$|async as etxn">
          <div *ngIf="homeCurrency$|async as homeCurrency">
            <app-fy-currency formControlName="currencyObj" [txnDt]="etxn?.tx?.txn_dt" [homeCurrency]="homeCurrency">
            </app-fy-currency>
          </div>
        </div>
      </div>

      <!-- <div *ngIf="isSplitExpenseAllowed && !(reviewList && reviewList.length > 1) && !isOffline">
        <div (click)="splitExpense($event)">
          <mat-icon>
            split-expense
          </mat-icon>
          <div>
            Split Expense
          </div>
        </div>
      </div> -->

      <div>
        <!-- <div *ngIf="accounts.length > 1">
          <div>
            {{etxn.tx.source_account_id ? 'Payment Mode' : 'Select Payment Mode'}}
            <span>*</span>
          </div>
          Add payment mode support
          <enterprise-expense-payment-mode name="paymentMode" 
            [options]="accounts" on-selection="selectPaymentMode(item)" title="Choose Payment Mode" sub-title="Payment Mode"
            readonly="readonly" [disabled]="isCreatedFromCCC || !canEditCCCMatchedSplitExpense">
          </enterprise-expense-payment-mode>
        </div> -->
        <div class="add-edit-expense--payment-modes" *ngIf="paymentModes$|async as paymentModes">
          <app-fy-select [label]="'Select Payment Mode'" formControlName="paymentMode" [options]="paymentModes">
          </app-fy-select>
        </div>

        <!-- <enterprise-alert *ngIf="isBalanceAvailableInAnyAdvanceAccount && !isCreatedFromCCC" type="information"
          message="'You have outstanding balance in your advance account(s)'"></enterprise-alert> -->

        <!-- <div *ngIf="isCCCAccountSelected && !isCreatedFromCCC">
          <div (click)="openMatchingTransactions()">
            <div>
              <mat-icon>card</mat-icon>
              <div>
                Found {{matchingCCCTransactions.length}}
                matching transaction(s)
              </div>
            </div>
          </div>
        </div> -->

        <!-- <enterprise-alert
          *ngIf="isCCCAccountSelected && !selectedCCCTransaction && canChangeMatchingCCCTransaction && !isTransactionInReport"
          type="warning"
          message="'Expense will be saved as a draft. Kindly ensure that it is matched with an appropriate card transaction later, although we will attempt to auto-match it for you.'">
        </enterprise-alert> -->

        <!-- <div *ngIf="isProjectsEnabled && !isOffline && ((isIndividualProjectsEnabled && allowedProjectIds.length > 0) || !isIndividualProjectsEnabled)">
          <div>{{etxn.tx.project_id ? 'Project' : 'Select Project'}} <div *ngIf="mandatoryExpenseFields.project">*</div>
          </div>
          <input type="text" name="project" 
            [required]="mandatoryExpenseFields.project" on-selection="selectProject" formControlName="project"
            org-id="orgId" allowed-projects="allowedProjectIds"
            is-individual-projects-enabled="isIndividualProjectsEnabled" enterprise-fy-projects-autocomplete
            readonly="readonly">
        </div> -->

        <div>
          <app-fy-select-project formControlName="project"></app-fy-select-project>
        </div>

        <!-- <div *ngIf="categories.length && !(isProjectsEnabled && isOffline)">
          <div>
            {{etxn.tx.org_category_id ? 'Category' : 'Select Category'}}
            <div *ngIf="mandatoryExpenseFields.category">*</div>
          </div>
          <app-fy-select *ngIf="isCategoriesListPresent" name="category" formControlName="category"
            display="displayName" [options]="categories" filter-items="categoryIds" on-selection="selectCategory(item)"
            [required]="mandatoryExpenseFields.category" title="Choose Category" sub-title="Categories"
            readonly="readonly" cache-name="recentCategoryList">
          </app-fy-select>
        </div> -->
        <div *ngIf="filteredCategories$|async as categories">
          <app-fy-select [label]="'Select Category'" formControlName="category" [options]="categories"></app-fy-select>
        </div>

        <div class="add-edit-expense--date">
          <div class="add-edit-expense--date-label">
            Date of Spend
          </div>
          <input class="add-edit-expense--date-input" matInput type="date" formControlName="dateOfSpend" disabled
            (keydown)="$event.preventDefault()" [min]="minDate" [max]="maxDate">
        </div>

      </div>

      <!-- <div *ngIf="vendors$|async as vendors">
        <app-fy-select formControlName="merchant" [options]="vendors"></app-fy-select>
      </div> -->
      <span *ngIf="txnFields$|async as txnFields">
        <div *ngIf="txnFields.vendor_id?.canView">
          <app-fy-select-vendor
            [label]="(etxn$|async)?.tx?.vendor ? txnFields.vendor_id?.title : 'Select ' + txnFields.vendor_id?.title"
            [mandatory]="txnFields.vendor_id?.mandatory" formControlName="merchant"
            [required]="txnFields.vendor_id?.mandatory" [disabled]="!txnFields.vendor_id?.canEdit">
          </app-fy-select-vendor>
        </div>
      </span>



      <!-- <div *ngIf="invalidVendor">
        <div>{{ txnFields.vendor_id.title }} cannot be greater than 250 characters</div>
      </div> -->
      <span *ngIf="txnFields$|async as txnFields">
        <div *ngIf="txnFields.purpose?.canView">
          <div *ngIf="txnFields.purpose?.type === 'TEXT'" class="add-edit-expense--text">
            <div class="add-edit-expense--text-label">
              <div>
                {{ ((etxn$|async)?.tx?.purpose ? txnFields.purpose?.title : 'Enter ' + txnFields.purpose?.title)| slice: 0:15 }}
              </div>
              <div *ngIf="txnFields.purpose?.mandatory">
                *
              </div>
            </div>
            <input class="add-edit-expense--text-input" name="purpose" formControlName="purpose"
              [required]="txnFields.purpose?.mandatory" [title]="'Enter'+txnFields.purpose?.title"
              [placeholder]="'Enter '+txnFields.purpose?.title | slice: 0:15" [disabled]="!txnFields.purpose?.canEdit">
          </div>
          <app-fy-select *ngIf="txnFields.purpose?.type === 'SELECT'" formControlName="purpose"
            [options]="txnFields.purpose?.values" [required]="txnFields.purpose?.mandatory"
            [label]="(etxn$|async)?.tx?.purpose ? txnFields.purpose?.title : 'Enter ' + txnFields.purpose?.title"
            [disabled]="!txnFields.purpose?.canEdit">
          </app-fy-select>
        </div>
      </span>

      <span *ngIf="reports$|async as reports">
        <app-fy-select [label]="'Add to Report'" formControlName="report" [options]="reports"></app-fy-select>
      </span>


      <!-- Hide is offline/ critical policy violation/ draft expense/ only expense in the report(canAddToReport)-->
      <!-- <div (click)="openAddExpenseToReportModal($event)"
        *ngIf="!isDraftExpense && !isOffline && canAddToReport && !isCriticalPolicyViolated && etxn.tx.state !== 'DRAFT'">
        <div>{{etxn.tx.report_id ? 'Report' : 'Add to Report'}}</div>
        <input *ngIf="report" type="text" name="report">
      </div> -->

      <!-- <div
        *ngIf="!isDraftExpense && !isOffline && !canAddToReport && !isCriticalPolicyViolated && etxn.tx.state !== 'DRAFT' && !(reviewList && reviewList.length > 1)">
        <ion-checkbox name="addToNewReport">Add to
          new report</ion-checkbox>
      </div> -->
    </div>

    <!-- <div *ngIf="!showSelectedTransaction && selectedCCCTransaction">
      <div>
        <div>
          <div>
            <mat-icon>
              food
            </mat-icon>
          </div>
          <div>Matched to a transaction from card ending with {{ cardEndingDigits }}</div>
        </div>
      </div>
    </div> -->

    <!-- <div>
      <div>
        <div>
          <mat-icon>
            food
          </mat-icon>
          <div> Selected a transaction from card ending with {{ cardEndingDigits }}</div>
        </div>
      </div>
    </div> -->

    <div *ngIf="taxSettings$|async as taxSettings">
      <app-fy-select [label]="'Tax Group'" [options]="taxSettings" formControlName="tax"></app-fy-select>
    </div>
    <div class="add-edit-expense--text" *ngIf="fg.value.tax">
      <div class="add-edit-expense--text-label">Tax Value</div>
      <input class="add-edit-expense--text-input" type="number" formControlName="taxValue" />
    </div>
    <!-- <div *ngIf="mode === 'add' && taxSettings.enabled && taxSettings.groups.length > 0">
      <div>
        <div>
          {{tax.name ? (taxSettings.name || 'Tax Group') : ('Select ' + (taxSettings.name || 'Tax Group'))}}
        </div>
        <app-fy-select name="tax" on-selection="selectTax(item)" compare-with="percentage"
          title="Enter {{taxSettings.name}}" sub-title="{{taxSettings.name}}"></app-fy-select>
      </div>
    </div> -->
    <div *ngIf="filteredCategories$|async as categories">
      <app-fy-userlist [label]="'Userlist'" [options]="categories"></app-fy-userlist>
    </div>

    <div *ngIf="txnFields$|async as txnFields">
      <div *ngIf="isProjectsEnabled$|async as isProjectsEnabled">
        <div
          *ngIf="txnFields.location1?.canView && txnFields.location1?.mandatory && ['Bus', 'Flight', 'Hotel', 'Train'].includes(fg.value.category?.fyle_category) && !(isProjectsEnabled && isOffline)">
          <app-fy-location [mandatory]="txnFields.location1?.mandatory"
            [label]="(etxn$|async)?.tx?.locations[0]?.display ? txnFields.location1?.title : 'Select ' + txnFields.location1?.title"
            formControlName="location_1"></app-fy-location>
        </div>

        <div
          *ngIf="txnFields.location2?.canView && txnFields.location2?.mandatory && ['Bus', 'Flight', 'Hotel', 'Train'].includes(fg.value.category?.fyle_category) && !(isProjectsEnabled && isOffline)">
          <app-fy-location [mandatory]="txnFields.location2?.mandatory"
            [label]="(etxn$|async)?.tx?.locations[0]?.display ? txnFields.location2?.title : 'Select ' + txnFields.location2?.title"
            formControlName="location_2"></app-fy-location>
        </div>

        <div class="add-edit-expense--date"
          *ngIf="txnFields.from_dt?.canView && txnFields.from_dt?.mandatory && ['Bus', 'Flight', 'Hotel', 'Train'].includes(fg.value.category?.fyle_category) && !(isProjectsEnabled && isOffline)">
          <div class="add-edit-expense--date-label">
            {{(etxn$|async)?.tx?.from_dt ? txnFields.from_dt?.title : 'Select ' + txnFields.from_dt?.title}}
            <span>*</span>
          </div>
          <input class="add-edit-expense--date-input" type="date" name="fromDt" formControlName="from_dt"
            [disabled]="!txnFields.from_dt?.canEdit">
        </div>

        <div class="add-edit-expense--date"
          *ngIf="txnFields.to_dt?.canView && txnFields.to_dt?.mandatory && ['Bus', 'Flight', 'Hotel', 'Train'].includes(fg.value.category?.fyle_category) && !(isProjectsEnabled && isOffline)">
          <div class="add-edit-expense--date-label">
            {{(etxn$|async)?.tx?.to_dt ? txnFields.to_dt?.title : 'Select ' + txnFields.to_dt?.title}}
            <span>*</span>
          </div>
          <input class="add-edit-expense--date-input" type="date" name="toDt" formControlName="to_dt"
            ng-change="onToDateChange()" [disabled]="!txnFields.to_dt?.canEdit">
        </div>

        <div class="add-edit-expense--date"
          *ngIf="txnFields.flight_journey_travel_class?.canView && txnFields.flight_journey_travel_class?.mandatory && ['Bus', 'Flight', 'Hotel', 'Train'].includes(fg.value.category?.fyle_category) && !(isProjectsEnabled && isOffline)">
          <app-fy-select formControlName="flight_journey_travel_class"
            [label]="(etxn$|async)?.tx?.flight_journey_travel_class ? txnFields.flight_journey_travel_class?.title : 'Select ' + txnFields.flight_journey_travel_class?.title"
            *ngIf="flightJourneyTravelClassOptions$|async as flightJourneyTravelClassOptions"
            [options]="flightJourneyTravelClassOptions" [disabled]="!txnFields.flight_journey_travel_class?.canEdit">
          </app-fy-select>
        </div>

        <div
          *ngIf="txnFields.flight_return_travel_class?.canView && txnFields.flight_return_travel_class?.mandatory && ['Bus', 'Flight', 'Hotel', 'Train'].includes(fg.value.category?.fyle_category) && !(isProjectsEnabled && isOffline)">
          <app-fy-select name="flightReturnClass"
            *ngIf="flightJourneyTravelClassOptions$|async as flightJourneyTravelClassOptions"
            [label]="(etxn$|async)?.tx?.flight_return_travel_class ? txnFields.flight_return_travel_class?.title : 'Select ' + txnFields.flight_return_travel_class?.title"
            formControlName="flight_return_travel_class" [options]="flightJourneyTravelClassOptions"
            [disabled]="!txnFields.flight_return_travel_class?.canEdit">
          </app-fy-select>
        </div>

        <div
          *ngIf="txnFields.train_travel_class?.canView && txnFields.train_travel_class?.mandatory && ['Bus', 'Flight', 'Hotel', 'Train'].includes(fg.value.category?.fyle_category) && !(isProjectsEnabled && isOffline)">
          <span *ngIf="txnFields.train_travel_class?.type === 'TEXT'">
            <div>
              {{(etxn$|async)?.tx?.train_travel_class ? txnFields.train_travel_class?.title : 'Enter ' + txnFields.train_travel_class?.title}}
              <span>*</span>
            </div>
            <input type="text" formControlName="train_travel_class" [disabled]="!txnFields.train_travel_class?.canEdit">
          </span>

          <app-fy-select
            [label]="(etxn$|async)?.tx?.train_travel_class ? txnFields.train_travel_class?.title : 'Enter ' + txnFields.train_travel_class?.title"
            *ngIf="txnFields.train_travel_class?.type === 'SELECT'" formControlName="train_travel_class"
            [options]="txnFields.train_travel_class?.values" [disabled]="!txnFields.train_travel_class?.canEdit">
          </app-fy-select>
        </div>

        <div
          *ngIf="txnFields.bus_travel_class?.canView && txnFields.bus_travel_class?.mandatory && ['Bus', 'Flight', 'Hotel', 'Train'].includes(fg.value.category?.fyle_category) && !(isProjectsEnabled && isOffline)">
          <div>
            {{(etxn$|async)?.tx?.bus_travel_class ? txnFields.bus_travel_class?.title : 'Enter ' + txnFields.bus_travel_class?.title}}
            <div>
              *
            </div>
          </div>
          <input type="text" *ngIf="txnFields.bus_travel_class?.type === 'TEXT'" name="busTravelClass"
            formControlName="bus_travel_class" [disabled]="!txnFields.bus_travel_class?.canEdit">
          <app-fy-select *ngIf="txnFields.bus_travel_class?.type === 'SELECT'" name="busTravelClass"
            formControlName="bus_travel_class" [options]="txnFields.bus_travel_class?.values" hide-none="true"
            [disabled]="!txnFields.bus_travel_class?.canEdit"></app-fy-select>
        </div>

        <div *ngIf="fg.value?.category?.fyle_category === 'Hotel'">
          <ion-checkbox name="isBreakFastProvided" formControlName="hotel_is_breakfast_provided">Breakfast Provided
          </ion-checkbox>
        </div>

        <div
          *ngIf="txnFields.distance?.canView && txnFields.distance?.mandatory && fg.value?.category?.fyle_category === 'Taxi'">
          <div>
            <div>
              {{(etxn$|async)?.tx?.distance ? txnFields.distance?.title : 'Enter ' + txnFields.distance?.title}}
              <span>*</span>
            </div>
            <input type="number" formControlName="distance" [disabled]="!txnFields.distance?.canEdit">
          </div>

          <div>

            <app-fy-select
              [label]="(etxn$|async)?.tx?.distance_unit ? txnFields.distance_unit.title : 'Select ' + txnFields.distance_unit.title"
              [mandatory]="txnFields.distance_unit.mandatory" name="taxiDistanceUnit" formControlName="distance_unit"
              [options]="txnFields.distance_unit.values" title="Choose Unit" sub-title="Units"></app-fy-select>
          </div>
        </div>
      </div>
    </div>


    <div>
      <div *ngFor="let customInput of this.customInputs$ | async as customInputs">
        <form [formGroup]="customInput.control">
          <div
            *ngIf="customInput.type !== 'BOOLEAN'&&customInput.type !== 'SELECT'&&customInput.type !== 'MULTI_SELECT' && customInput.type !== 'USER_LIST' && customInput.type !== 'LOCATION'">
            {{customInput.name}} {{customInput.type}}
            <span *ngIf="customInput.mandatory">
              *
            </span>
          </div>


          <input type="text" formControlName="value" *ngIf="customInput.type === 'TEXT'">

          <input type="number" formControlName="value" *ngIf="customInput.type === 'NUMBER'">

          <input type="checkbox" [placeholder]="customInput.name" formControlName="value"
            *ngIf="customInput.type === 'BOOLEAN'">

          <app-fy-location [label]="customInput.name" formControlName="value" *ngIf="customInput.type === 'LOCATION'">
          </app-fy-location>

          <app-fy-select [label]="customInput.name" [options]="customInput.options"
            *ngIf="customInput.type === 'SELECT'" formControlName="value">
          </app-fy-select>

          <app-fy-multiselect [label]="customInput.name" [options]="customInput.options"
            *ngIf="customInput.type === 'MULTI_SELECT'" formControlName="value">
          </app-fy-multiselect>

          <input type="date" name="{{customInput.name}}" formControlName="value" *ngIf="customInput.type === 'DATE'">

          <app-fy-userlist [label]="customInput.name" *ngIf="customInput.type === 'USER_LIST'" formControlName="value">
          </app-fy-userlist>
        </form>
      </div>
    </div>

    <!-- <div>
      <div>
        <div>
          <div>{{prop.value ? (prop.name) : prop.name}}</div>
          <div *ngIf="prop.mandatory">*</div>
        </div>

        <input type="text" name="{{prop.name}}" ng-blur="toggleNavigationPanel(true)" formControlName="prop.value"
          *ngIf="prop.type === 'TEXT'" [required]="prop.mandatory">

        <input type="number" fy-decimal-keypad name="{{prop.name}}" ng-focus="toggleNavigationPanel(false)"
          ng-blur="toggleNavigationPanel(true)" formControlName="prop.value" *ngIf="prop.type === 'NUMBER'"
          [required]="prop.mandatory">

        <ion-checkbox name="{{prop.name}}" *ngIf="prop.type === 'BOOLEAN'">{{prop.name}}</ion-checkbox>

        <input type="text" name="{{prop.name}}" ng-focus="toggleNavigationPanel(false)"
          ng-blur="toggleNavigationPanel(true)" formControlName="prop.value.display" [required]="prop.mandatory"
          *ngIf="prop.type === 'LOCATION'" enterprise-fy-location-autocomplete readonly>

        <app-fy-select name="{{prop.name}}" [options]="prop.options" on-selection="selectSimpleCustomField(item, prop)"
          *ngIf="prop.type === 'SELECT'" simple="true" [required]="prop.mandatory" title="Choose {{prop.name}}"
          sub-title="{{prop.name}}">
        </app-fy-select>

        <enterprise-fy-multiselect name="{{prop.name}}" [options]="prop.options"
          on-selection="selectMultipleCustomField(item, prop)"
          *ngIf="prop.type === 'MULTI_SELECT' && prop.options.length > 0" simple="true" [required]="prop.mandatory"
          title="Choose {{prop.name}}s" sub-title="{{prop.name}}"></enterprise-fy-multiselect>

        <input type="date" name="{{prop.name}}" ng-blur="toggleNavigationPanel(true)" formControlName="prop.value"
          *ngIf="prop.type === 'DATE'" [required]="prop.mandatory">

        <enterprise-fy-userlist name="{{prop.name}}" [options]="prop.options"
          on-selection="selectMultipleCustomFieldUserList(item, prop)"
          *ngIf="prop.type === 'USER_LIST' && prop.options.length > 0" [required]="prop.mandatory"
          title="Choose {{prop.name}}s" sub-title="{{prop.name}}"></enterprise-fy-userlist>
      </div>
    </div> -->

    <!-- <div>
      <div>
        <ion-checkbox name="billable">Billable
        </ion-checkbox>
      </div>

      <div *ngIf="costCenters.length > 0 && txnFields.cost_center_id.canView">
        <div>
          {{ etxn.tx.cost_center_id ? txnFields.cost_center_id.title : 'Enter ' + txnFields.cost_center_id.title }}
          <div *ngIf="txnFields.cost_center_id.mandatory">*</div>
        </div>
        <app-fy-select name="costCenter" on-selection="selectCostCenter(item)"
          [required]="txnFields.cost_center_id.mandatory" title="Select {{ txnFields.cost_center_id.title }}"
          cache-name="recentCostCenterList">
        </app-fy-select>
      </div>
    </div> -->
    <!-- <enterprise-alert *ngIf="isNotReimbursable" type="information"
      message="'This expense will not be reimbursed as it has already been paid by your company.'">
    </enterprise-alert> -->

    <!-- <div *ngIf="etxn && etxn.tx.creator_id === 'SYSTEM_CORPORATE_CARD' && selectedCCCTransaction">
      <div>
        <div>
          <div>
            <mat-icon>food</mat-icon>
          </div>
          <div>Automatically created from your company's card feed</div>
        </div>
      </div>
    </div> -->

    <!-- <div>
      <div>
        <div>
          <div>
            <mat-icon>food</mat-icon>
          </div>
          <div>Expense created due to reversal of card transaction.</div>
        </div>
      </div>
    </div> -->

    <!-- <div id="duplicate-detection">
      <enterprise-duplicate-detection reason="etxn.tx.user_reason_for_duplicate_expenses" duplicates="duplicates"
        transaction-id="etxn.tx.id">
      </enterprise-duplicate-detection>
    </div> -->

    <!-- <div id="comments">
      <enterprise-fy-comments object-id="{{ etxn.tx.id }}" mode="{{mode}}" text="Comments" show-comments-count="false"
        dont-load-comments="true" estatuses="comments"></enterprise-fy-comments>
    </div> -->

    <!-- <div *ngIf="etxn && !etxn.tx.report_id && mode === 'edit' && etxn.tx.user_can_delete">
      <div>
        <mat-icon>
          food
        </mat-icon>
        <div>Delete Expense</div>
      </div>
    </div> -->

    <!-- <enterprise-alert
      *ngIf="!isOffline && mandatoryExpenseFields.project && isProjectsEnabled && (isIndividualProjectsEnabled && allowedProjectIds.length === 0)"
      type="warning"
      message="'There are no projects assigned to you, so this expense will be saved as a draft. Please contact admin for further help.'">
    </enterprise-alert> -->

    <!-- <div>
      <div>Please fill all fields to proceed.</div>
    </div>
    <div>
      <div>Corporate card transaction cannot be unmatched since the report is already
        submitted.
      </div>
    </div>
    <div>
      <div>Card transaction cannot be unmatched as one of the associated split expenses is
        already submitted in a report.</div>
    </div>
    <div>
      <div>Only PDF, JPEG, PNG file upload are supported.</div>
    </div>
    <div>
      <div>Expense greater than balance in selected Payment Mode. Please choose a different
        Payment Mode.</div>
    </div> -->

    <!-- <div>
      <div>
        <button type="submit"
          critical-promise="criticalPromise">{{reviewList.length > 0 && !(activeIndex === reviewList.length - 1) ? 'Save and Next' : 'Save'}}</button>

      </div>
      disabling add and new when add to new report is selected
      <div>
        <button type="submit" critical-promise="criticalPromise">Save & New</button>
      </div>
    </div> -->
  </form>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-buttons>
      <ion-button class="add-edit-expense--primary-cta" fill="solid" color="fyle-primary">
        Save
      </ion-button>
      <ion-button class="add-edit-expense--primary-cta" fill="solid" color="fyle-primary">
        Save & New
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>