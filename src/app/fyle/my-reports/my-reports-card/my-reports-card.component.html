<div class="reports-card" (click)="goToReport(erpt)" *ngIf="!actionOpened">
  <div>
    <div>
      <p>
        <span>
          {{erpt.rp_currency}}
        </span>
        <span>
          {{erpt.rp_amount}}
        </span>
      </p>
      <p>
        {{erpt.rp_purpose}}
      </p>
    </div>
    <div (click)="actionOpened = true">
      more icon here
    </div>
  </div>
  <div>
    <p>Contains <span>{{erpt.rp_num_transactions}}</span> expenses</p>
    <p *ngIf="erpt.rp_approved_at && (['APPROVER_PENDING', 'APPROVER_INQUIRY'].indexOf(erpt.rp_state) === -1)">Approved
      on <span>{{erpt.rp_approved_at | date: 'dd MMMM yyyy'}}</span></p>
    <p>
      {{erpt.rp_state}}
    </p>
  </div>
</div>

<div *ngIf="actionOpened">
  <div (click)="actionOpened = false">
    <span>
      Close
    </span>
  </div>
  <div>

    <!-- Add when audit trails support is done
      
      <div (click)="viewComments($event, erpt)">
      <button class="button-text button-link p-0">
        <enterprise-fy-comments class="element-block m-0 no-border comments-block" object-type="reports"
          object-id="{{ erpt.rp.id }}"
          mode="{{(['APPROVER_PENDING', 'APPROVER_INQUIRY'].indexOf(erpt.rp.state) === -1) ? 'view' : 'edit'}}"
          hide-icon="true" dont-load-comments="true" text="View Comments"></enterprise-fy-comments>
      </button>
    </div> -->

    <div class="button-row" (click)="deleteReport($event, erpt)">
      <button>Delete</button>
    </div>
  </div>
</div><!-- Show this if clicked on more action -->